(this["webpackJsonpxlink-viewer"]=this["webpackJsonpxlink-viewer"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(15),i=n.n(r),s=(n(86),n(74)),o=n(136),j=n(137),l=n(72),d=n(10),b=n(49),h=n(139),u=n(128),x=n(129),O=n(130),p=n(126),f=n(127),m=n(2),v=function(e){return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)(h.a,{className:"testing",style:{position:"fixed",width:"100%",height:"300px",top:"-250px",zIndex:"10",backgroundColor:"#c30a13"}}),Object(m.jsx)(p.a,{position:"sticky",style:{clipPath:"inset(0px -10px -10px -10px)"},children:Object(m.jsxs)(f.a,{children:[e.button,Object(m.jsx)(b.a,{variant:"h6",children:"Xlink Mobile"})]})})]})},g=function(){return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)(h.a,{bgcolor:"white",width:"100vw",height:"100vh",style:{position:"fixed",zIndex:"-1"}}),Object(m.jsx)(v,{}),Object(m.jsx)(h.a,{p:2,children:Object(m.jsx)(b.a,{variant:"h4",children:"Report Lists"})}),Object(m.jsxs)(u.a,{children:[Object(m.jsx)(x.a,{divider:!0,button:!0,component:"a",href:"#/collect-cows",children:Object(m.jsx)(O.a,{primary:"Collect Cows"})}),Object(m.jsx)(x.a,{divider:!0,button:!0,component:"a",href:"#/cows-due",children:Object(m.jsx)(O.a,{primary:"Cows Due"})})]})]})},w=n(55),y=n(63),k=n(17),C=n(64),F=n.n(C),D=n(111),N=n(135),S=n(65),L=n(29),I=n(66),z=n(75),P=n(67),T=n.n(P),A=n(140),R=n(131),E=n(132),B=n(141),J=n(133),M=function(e){Object(I.a)(n,e);var t=Object(z.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(b.a,{variant:"caption",color:"textSecondary",children:this.props.label}),Object(m.jsx)(b.a,{style:{fontSize:16},variant:"body1",children:this.props.data})]})}}]),n}(c.Component),X=function(e){var t=Object.keys(e.data),n=t[0],c=t.slice(1,4),a=t.slice(4);return Object(m.jsxs)(A.a,{children:[Object(m.jsx)(R.a,{expandIcon:Object(m.jsx)(T.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(m.jsxs)(E.a,{container:!0,justify:"space-around",spacing:1,children:[Object(m.jsx)(E.a,{item:!0,xs:2,children:Object(m.jsx)(B.a,{color:"primary",label:e.data[n]})}),c.map((function(t){return Object(m.jsx)(E.a,{item:!0,children:Object(m.jsx)(M,{label:t,data:e.data[t]})})}))]})}),Object(m.jsx)(J.a,{children:Object(m.jsx)(E.a,{container:!0,spacing:1,children:a.map((function(t){return Object(m.jsx)(E.a,{item:!0,xs:4,xm:3,children:Object(m.jsx)(M,{label:t,data:e.data[t]})})}))})})]})},q=n(68),G=n(134),H=function(){return Object(m.jsx)(A.a,{children:Object(m.jsx)(R.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(m.jsxs)(E.a,{container:!0,justify:"space-around",spacing:1,children:[Object(m.jsx)(E.a,{item:!0,xs:2,children:Object(m.jsx)(G.a,{variant:"circle",width:40,height:40})}),Object(m.jsxs)(E.a,{item:!0,xs:10,children:[Object(m.jsx)(G.a,{variant:"text",animation:"wave"}),Object(m.jsx)(G.a,{variant:"text",animation:"wave"})]})]})})})},K=function(e){var t=Object(m.jsx)(D.a,{style:{color:"white"},edge:"start",href:"#",children:Object(m.jsx)(N.a,{})});return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)(h.a,{bgcolor:"white",width:"100vw",height:"100vh",style:{position:"fixed",zIndex:"-1"}}),Object(m.jsx)(v,{button:t}),Object(m.jsx)(q.a,{onRefresh:e.refreshReport,children:Object(m.jsxs)(h.a,{bgcolor:"white",children:[Object(m.jsx)(h.a,{p:2,children:Object(m.jsx)(b.a,{variant:"h4",children:e.reportName+(e.isLoading?"":" - "+e.data.length)})}),e.data.map((function(t){return e.isLoading?Object(m.jsx)(H,{}):Object(m.jsx)(X,{data:t})})),Object(m.jsx)(h.a,{p:2,children:Object(m.jsxs)(b.a,{variant:"body2",style:{fontSize:13},color:"textSecondary",align:"center",children:["Data last fetched: ",e.refreshTime]})})]})})]})};function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];console.log("datas: "+e);var n=function(e,n){var c=t.indexOf(e),a=t.indexOf(n);return(c=-1==c?1e3:c)<(a=-1==a?1e3:a)?-1:0},c=e.map((function(e){return Object.keys(e).sort(n).reduce((function(t,n){return t[n]=e[n],t}),{})}));return console.log("ordered: "+c),c}var U=function(){return W("collect-cows")},V=function(){return W("cows-due")},W=function(e){return fetch("https://xlink-worker.jcdeichmann.workers.dev/"+e).then((function(e){return e.json()}))},Y=function(e){return Object(m.jsx)($,{reportName:"Collect Cows",fetchData:U,priorityFields:["Animal Number","Away","Day Production","Lactation days"]})},Z=function(e){return Object(m.jsx)($,{reportName:"Cows Due",fetchData:V,priorityFields:["Animal Number","Animal Name","Expected Calving Date"]})},$=function(e){var t=Object(c.useState)([null,null,null,null,null,null,null]),n=Object(k.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!0),s=Object(k.a)(i,2),o=s[0],j=s[1],l=Object(c.useState)("never"),d=Object(k.a)(l,2),b=d[0],h=d[1],u=function(){j(!0),e.fetchData().then(function(){var t=Object(y.a)(Object(w.a)().mark((function t(n){var c;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,300)}));case 2:c=Q(n,e.priorityFields),r(c),j(!1),h(F()().format("h:mm a"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){console.log("error happened....")}))};return Object(c.useEffect)((function(){u()}),[]),Object(m.jsx)(K,{reportName:e.reportName,data:a,refreshTime:b,refreshReport:u,isLoading:o})},_=Object(s.a)({palette:{primary:{main:"#c30a13"},background:{default:"#c30a13",body:"#c30a13"},secondary:{main:"#0ac3ba"}}});function ee(){return Object(m.jsxs)(o.a,{theme:_,children:[Object(m.jsx)(j.a,{}),Object(m.jsx)(l.a,{basename:"xlink-viewer",children:Object(m.jsxs)(d.c,{children:[Object(m.jsx)(d.a,{path:"/collect-cows/",children:Object(m.jsx)(Y,{})}),Object(m.jsx)(d.a,{path:"/cows-due/",children:Object(m.jsx)(Z,{})}),Object(m.jsx)(d.a,{path:"/",children:Object(m.jsx)(g,{})})]})})]})}var te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(ee,{})}),document.getElementById("root")),te()},86:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.efed4efa.chunk.js.map